import e,{useState as t}from"react";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}function n(e){const t=e.getBoundingClientRect(),r=t.left+window.pageXOffset,n=t.top+window.pageYOffset,o=t.width||el.offsetWidth,a=t.height||el.offsetHeight;return{left:r,right:r+o,top:n,bottom:n+a,mid:n+a/2,center:r+o/2,width:o,height:a}}const o=o=>{[o.startingElement.ref,o.startingElement.x,o.startingElement.y,o.endingElement.ref,o.endingElement.x,o.endingElement.y].map((e=>{if(void 0===e)throw new Error("All required props should be passed to StraightLine component!")}));const{startingElement:a,endingElement:i,color:s="black",thickness:l=4,className:d="",style:m={},...g}=o,{ref:c,x:f,y:h}=a,{ref:u,x:p,y:E}=i,[w,y]=t(null),[$,b]=t(null);let v,M,k,T,L,O,x,z;return e.useLayoutEffect((()=>{function e(){try{y(n(c.current)),b(n(u.current))}catch{console.error(`${c} is not valid DOM element`)}}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),null!==w&&null!==$&&(v=w[f],M=w[h],k=$[p],T=$[E],L=Math.sqrt((k-v)*(k-v)+(T-M)*(T-M)),O=(v+k)/2-L/2,x=(M+T)/2-l/2,z=Math.atan2(M-T,v-k)*(180/Math.PI)),e.createElement("div",r({style:w&&$&&{padding:0,margin:0,height:l,backgroundColor:s,lineHeight:1,position:"absolute",left:O,top:x,width:L,MozTransform:`rotate(${z}deg)`,WebkitTransform:`rotate(${z}deg)`,OTransform:`rotate(${z}deg)`,msTransform:`rotate(${z}deg)`,transform:`rotate(${z}deg)`,...m},className:`${d}`},g))},a=r=>{[r.startingElement.ref,r.startingElement.x,r.startingElement.y,r.endingElement.ref,r.endingElement.x,r.endingElement.y].map((e=>{if(void 0===e)throw new Error("All required props should be passed to LineL component!")}));const{startingElement:o,endingElement:a,color:i="black",thickness:s=4,shape:l="normal",className:d="",style:m={},...g}=r,{ref:c,x:f,y:h}=o,{ref:u,x:p,y:E}=a,[w,y]=t(null),[$,b]=t(null);let v,M,k,T,L,O,x,z,q,N,C,H,P,W;if(e.useLayoutEffect((()=>{function e(){try{y(n(c.current)),b(n(u.current))}catch{console.error(`${c} is not valid DOM element`)}}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),null!==w&&null!==$){switch(v=w[f],k=w[h],M=$[p],T=$[E],l){case"normal":L=v,O=T;break;case"upsidedownL":L=M,O=k;break;default:throw new Error("shape is not correct")}x=Math.sqrt((L-v)*(L-v)+(O-k)*(O-k)),q=(v+L)/2-x/2,C=(k+O)/2-s/2,P=Math.atan2(k-O,v-L)*(180/Math.PI),z=Math.sqrt((M-L)*(M-L)+(T-O)*(T-O)),N=(L+M)/2-z/2,H=(O+T)/2-s/2,W=Math.atan2(O-T,L-M)*(180/Math.PI)}return e.createElement("div",g,e.createElement("div",{style:w&&$&&{padding:0,margin:0,height:s,backgroundColor:i,lineHeight:1,position:"absolute",left:q,top:C,width:x,MozTransform:`rotate(${P}deg)`,WebkitTransform:`rotate(${P}deg)`,OTransform:`rotate(${P}deg)`,msTransform:`rotate(${P}deg)`,transform:`rotate(${P}deg)`,...m},className:`${d}`}),e.createElement("div",{style:w&&$&&{padding:0,margin:0,height:s,backgroundColor:i,lineHeight:1,position:"absolute",left:N,top:H,width:z,MozTransform:`rotate(${W}deg)`,WebkitTransform:`rotate(${W}deg)`,OTransform:`rotate(${W}deg)`,msTransform:`rotate(${W}deg)`,transform:`rotate(${W}deg)`,...m},className:`${d}`}))};export{a as LineL,o as StraightLine};
